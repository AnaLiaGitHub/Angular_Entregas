<h1>Formulario Reactivo</h1>

<form class="row g-3 needs-validation" [formGroup]="formularioUsuario" (ngSubmit) = "agregarUsuario()">
    <div class="col-md-4">
        <label for="" class="form-label">Nombre:</label>
        <input type="text" class="form-control" formControlName="nombre">
        <p *ngIf="formularioUsuario.get('nombre')?.touched && formularioUsuario.get('nombre')?.errors?.['required']">El campo nombre es requerido</p>
    </div>
    <div>
        <label for="">Correo:</label>
        <input type="text" formControlName="correo">
        <p *ngIf="formularioUsuario.get('correo')?.touched && formularioUsuario.get('correo')?.errors?.['required']">El campo correo es requerido</p>
        <p *ngIf="formularioUsuario.get('correo')?.touched && formularioUsuario.get('correo')?.errors?.['email']">El formato del correo no es correcto</p>
        <p *ngIf="formularioUsuario.get('correo')?.touched && formularioUsuario.get('correo')?.errors?.['pattern']">Correo no válido</p>
    </div>
    <div>
        <label for="">Contraseña:</label>
        <input type="password" formControlName="contraseña">
        <p *ngIf="formularioUsuario.get('contraseña')?.touched && formularioUsuario.get('contraseña')?.errors?.['required']">El campo contraseña es requerido</p>
        <p *ngIf="formularioUsuario.get('contraseña')?.touched && formularioUsuario.get('contraseña')?.errors?.['minlength']">La contraseña debe tener al menos 6 caracteres</p>
        <p *ngIf="formularioUsuario.get('contraseña2')?.touched && formularioUsuario.get('contraseña2')?.errors?.['pattern']">La contraseña debe tener al menos una mayúscula</p>
    </div>
    <div>
        <label for="">Repetir contraseña:</label>
        <input type="password" formControlName="contraseña2">
        <p *ngIf="formularioUsuario.get('contraseña2')?.touched && formularioUsuario.get('contraseña2')?.errors?.['required']">El campo contraseña es requerido</p>
        <p *ngIf="formularioUsuario.get('contraseña2')?.touched && formularioUsuario.get('contraseña2')?.errors?.['minlength']">La contraseña debe tener al menos 6 caracteres</p>
        <p *ngIf="!contrasenasIguales">La contraseñas no coinciden</p>
    </div>
    <div>
        <label for="">Admin:</label>
        <input type="checkbox" formControlName="admin">
    </div>
    <button class="btn btn-primary" type="submit" [disabled]="formularioUsuario.invalid">Agregar usuario</button>
</form>